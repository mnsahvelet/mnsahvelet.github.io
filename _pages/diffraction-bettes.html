---
title: "Diffraction Calculator: Semi-infinite Breakwater (Bettes)"
permalink: /tools/diffraction/bettes/
layout: single
author_profile: false
---

<style>
  .tool-wrap{ max-width: 980px; margin: 0 auto; }
  .tool-title{ font-size: 2rem; font-weight: 700; margin: 0 0 0.4rem 0; }
  .tool-sub{ margin: 0 0 1.2rem 0; opacity: 0.9; }
  .tool-grid{ display: grid; grid-template-columns: 340px 1fr; gap: 18px; align-items: start; }
  .panel{ background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); border-radius: 10px; padding: 14px; }
  .panel h3{ margin: 0 0 10px 0; font-size: 1.05rem; }
  .row{ display: grid; grid-template-columns: 1fr 120px; gap: 10px; align-items: center; margin-bottom: 10px; }
  .row label{ font-weight: 600; }
  .row input{ width: 100%; padding: 8px 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.18); background: rgba(0,0,0,0.20); color: inherit; }
  .row small{ opacity: 0.85; font-weight: 400; }
  .row-2{ display: grid; grid-template-columns: 1fr; margin-top: 8px; margin-bottom: 8px; }
  .btn{ display: inline-block; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.20); background: rgba(255,255,255,0.10); color: inherit; cursor: pointer; font-weight: 700; }
  .btn:disabled{ opacity: 0.6; cursor: not-allowed; }
  .note{ font-size: 0.92rem; opacity: 0.9; line-height: 1.35; }
  .results{ font-size: 0.95rem; border-collapse: collapse; width: 100%; }
  .results td{ padding: 6px 8px; border-bottom: 1px solid rgba(255,255,255,0.10); vertical-align: top; }
  .results td:first-child{ width: 140px; opacity: 0.9; }
  .canvas-wrap{ position: relative; width: 100%; overflow: hidden; border-radius: 10px; border: 1px solid rgba(255,255,255,0.12); background: rgba(0,0,0,0.22); }
  canvas{ display:block; width:100%; height:auto; }
  .status{ margin-top: 10px; opacity: 0.9; font-size: 0.92rem; }
  .legend{ display:flex; align-items:center; gap:10px; margin-top: 10px; }
  .legend-bar{ height: 10px; flex: 1; border-radius: 999px; border: 1px solid rgba(255,255,255,0.18);
               background: linear-gradient(90deg, #30123b, #4145ab, #2a7ab9, #1aa287, #5ec962, #b8de29, #fde725); }
  .legend-label{ font-size: 0.9rem; opacity: 0.9; min-width: 88px; text-align: right; }
  @media (max-width: 900px){ .tool-grid{ grid-template-columns: 1fr; } }
</style>

<div class="tool-wrap">
  <div class="tool-title">Diffraction Calculator</div>
  <p class="tool-sub">
    Semi-infinite breakwater diffraction coefficient <strong>K<sub>d</sub>(x,y)</strong> using the Bettes-style analytic formulation.
    Angle convention follows; θ is measured from +x, and θ<sub>inc</sub> is the incident angle in the same frame.
  </p>

  <div class="tool-grid">
    <div class="panel">
      <h3>Inputs</h3>

      <div class="row"><label for="T">T (s)</label><input id="T" type="number" step="0.01" value="5"></div>
      <div class="row"><label for="h">d (m) <small>(water depth)</small></label><input id="h" type="number" step="0.01" value="10"></div>
      <div class="row"><label for="L">L (m) <small>(optional override)</small></label><input id="L" type="number" step="0.001" value=""></div>
      <div class="row"><label for="dx">dx (m)</label><input id="dx" type="number" step="0.01" value="1"></div>
      <div class="row"><label for="dy">dy (m)</label><input id="dy" type="number" step="0.01" value="1"></div>
      <div class="row"><label for="xMax">xMax (m)</label><input id="xMax" type="number" step="1" value="100"></div>
      <div class="row"><label for="yMax">yMax (m)</label><input id="yMax" type="number" step="1" value="100"></div>
      <div class="row"><label for="thetaInc">θ<sub>inc</sub> (deg)</label><input id="thetaInc" type="number" step="0.1" value="90"></div>

      <div class="row-2">
        <label style="display:flex; gap:10px; align-items:center; font-weight:600;">
          <input id="nondim" type="checkbox" checked> Plot nondimensional (x/L, y/L)
        </label>
      </div>

      <div class="row-2" style="display:flex; gap:10px; align-items:center;">
        <button id="plotBtn" class="btn" type="button">Plot Semi Infinite Kd Map</button>
        <button id="stopBtn" class="btn" type="button" disabled>Stop</button>
      </div>

      <h3 style="margin-top:14px;">Results</h3>
      <table class="results">
        <tr><td>ω (rad/s)</td><td id="out_omega">–</td></tr>
        <tr><td>k (1/m)</td><td id="out_k">–</td></tr>
        <tr><td>L (m)</td><td id="out_L">–</td></tr>
        <tr><td>kh (-)</td><td id="out_kh">–</td></tr>
      </table>

      <div class="status" id="status">JS not loaded yet…</div>
    </div>

    <div class="panel">
      <h3>Map</h3>
      <div class="canvas-wrap">
        <canvas id="map" width="1000" height="750"></canvas>
      </div>

      <div class="legend">
        <div class="legend-label">K<sub>d</sub>: 0</div>
        <div class="legend-bar"></div>
        <div class="legend-label">1</div>
      </div>
      <div class="tool-logo">
        <img src="/images/logo.png" alt="Diffraction Tool Logo">
      </div>
      <div class="note" style="margin-top:10px;">
        Breakwater is drawn as a thick black line on x=0 for y≥0 (semi-infinite). Domain is x≥0, 0≤y≤yMax.
      </div>
    </div>
  </div>
</div>

{% raw %}
<script defer src="/assets/js/diffraction-bettes.js"></script>
{% endraw %}
